<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <script async="" src="//www.google-analytics.com/analytics.js"></script>
    <script src="https://www.chartjs.org/dist/2.9.3/Chart.min.js"></script>
    <script src="../../utils.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <title>Calculadora UNIVALLE</title>
    <!-- MDB icon -->
    <link rel="icon" href="https://scontent.fctg2-1.fna.fbcdn.net/v/t1.0-9/120240217_3678673492167502_524781987073087397_o.jpg?_nc_cat=104&_nc_sid=825194&_nc_ohc=YcRJ-aI4-jcAX94JwGL&_nc_ht=scontent.fctg2-1.fna&oh=2673bd652e1f4cf556fbef42ac13f039&oe=5F9B530E" type="image/x-icon" />
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css" />
    <!-- Google Fonts Roboto -->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap"
    />
    <!-- MDB -->
    <link rel="stylesheet" href="css/mdb.min.css" />

    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
    <style>
	    canvas{
		    -moz-user-select: none;
		    -webkit-user-select: none;
		    -ms-user-select: none;
      }
	  </style>
    <style>
    
@font-face {
  font-weight: 400;
  font-style:  normal;
  font-family: 'Inter-Loom';

  src: url('https://cdn.loom.com/assets/fonts/inter/Inter-UI-Regular.woff2') format('woff2');
}
@font-face {
  font-weight: 400;
  font-style:  italic;
  font-family: 'Inter-Loom';

  src: url('https://cdn.loom.com/assets/fonts/inter/Inter-UI-Italic.woff2') format('woff2');
}

@font-face {
  font-weight: 500;
  font-style:  normal;
  font-family: 'Inter-Loom';

  src: url('https://cdn.loom.com/assets/fonts/inter/Inter-UI-Medium.woff2') format('woff2');
}
@font-face {
  font-weight: 500;
  font-style:  italic;
  font-family: 'Inter-Loom';

  src: url('https://cdn.loom.com/assets/fonts/inter/Inter-UI-MediumItalic.woff2') format('woff2');
}

@font-face {
  font-weight: 700;
  font-style:  normal;
  font-family: 'Inter-Loom';

  src: url('https://cdn.loom.com/assets/fonts/inter/Inter-UI-Bold.woff2') format('woff2');
}
@font-face {
  font-weight: 700;
  font-style:  italic;
  font-family: 'Inter-Loom';

  src: url('https://cdn.loom.com/assets/fonts/inter/Inter-UI-BoldItalic.woff2') format('woff2');
}

@font-face {
  font-weight: 900;
  font-style:  normal;
  font-family: 'Inter-Loom';

  src: url('https://cdn.loom.com/assets/fonts/inter/Inter-UI-Black.woff2') format('woff2');
}
@font-face {
  font-weight: 900;
  font-style:  italic;
  font-family: 'Inter-Loom';

  src: url('https://cdn.loom.com/assets/fonts/inter/Inter-UI-BlackItalic.woff2') format('woff2');
}
    </style>
    <style>
    /* Chart.js */
@keyframes chartjs-render-animation{from{opacity:.99}to{opacity:1}}.chartjs-render-monitor{animation:chartjs-render-animation 1ms}.chartjs-size-monitor,.chartjs-size-monitor-expand,.chartjs-size-monitor-shrink{position:absolute;direction:ltr;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1}.chartjs-size-monitor-expand>div{position:absolute;width:1000000px;height:1000000px;left:0;top:0}.chartjs-size-monitor-shrink>div{position:absolute;width:200%;height:200%;left:0;top:0}
    </style>

    <!-- Custom styles -->
    <style>html {
      font-size: 62.5%;
      box-sizing: border-box;
    }

    *,
    *::before,
    *::after {
      margin: 0;
      padding: 0;
      box-sizing: inherit;
    }

    .calculadora {
      border: 1px solid #ccc;
      border-radius: 5px;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 400px;
    }

    .calculadora-screen {
      width: 100%;
      height: 80px;
      border: none;
      background-color: #252525;
      color: #fff;
      text-align: right;
      padding-right: 20px;
      padding-left: 10px;
      font-size: 4rem;
    }

    button {
      height: 60px;
      font-size: 2rem!important;
    }

    .equal-sign {
      height: 98%;
      grid-area: 2 / 4 / 6 / 5;
    }

    .calculadora-keys {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      grid-gap: 20px;
      padding: 20px;
    }</style>
  </head>
  <body>

    <!-- header -->
  <div class="p-5 text-center bg-light">
    <h1 class="mb-3">CALCULADORA UNIVALLE <a class="btn btn-info"type="button" role="button" data-toggle="modal" data-target="#exampleModal">Vídeo de Creación</a> </h1>

    <br/>
    <br/>
    <br/>
  </div>

<!-- Modal -->
<div
  class="modal fade"
  id="exampleModal"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        ...
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">
          Close
        </button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>

  <br/>
  <br/>
  <br/>
  <br/>
  <!--Calculadora -->

    <div class="calculadora card" style="max-width:400px">

    <input id="res" type="text" class="calculadora-screen z-depth-1" value="" disabled />

    <div class="calculadora-keys">

      <button type="button" class="operador btn btn-info" value="+">+</button>
      <button type="button" class="operador btn btn-info" value="-">-</button>
      <button type="button" class="operador btn btn-info" value="*">&times;</button>
      <button type="button" class="operador btn btn-info" value="/">&divide;</button>

      <button type="button" value="7" class="btn btn-light waves-effect">7</button>
      <button type="button" value="8" class="btn btn-light waves-effect">8</button>
      <button type="button" value="9" class="btn btn-light waves-effect">9</button>


      <button type="button" value="4" class="btn btn-light waves-effect">4</button>
      <button type="button" value="5" class="btn btn-light waves-effect">5</button>
      <button type="button" value="6" class="btn btn-light waves-effect">6</button>


      <button type="button" value="1" class="btn btn-light waves-effect">1</button>
      <button type="button" value="2" class="btn btn-light waves-effect">2</button>
      <button type="button" value="3" class="btn btn-light waves-effect">3</button>


      <button type="button" value="0" class="btn btn-light waves-effect">0</button>
      <button type="button" class="all-clear function btn btn-danger btn-sm" value="all-clear">AC</button>

      <button type="button" class="equal-sign operador btn btn-default" id="result" value="=">=</button>

    </div>
  </div>

  <canvas id="myChart"></canvas>

  <script>
var result_1 = Number(document.getElementById('res').value); 
var ctx = document.getElementById('myChart').getContext('2d');
var chart = new Chart(ctx, {
    // The type of chart we want to create
    type: 'line',

    // The data for our dataset
    data: {
        labels: ['Resultado'],
        datasets: [{
            label: 'Mi resultado fue',
            backgroundColor: 'rgb(255, 99, 132)',
            borderColor: 'rgb(255, 99, 132)',
            data: [0,100]
        }]
    },

    // Configuration options go here
    options: {}
});

  </script>




<script>
const calculadora = {
  valorPantalla: '0',
  primeraOperacion: null,
  esperandoPorSegundaOperacion: false,
  operador: null,
};

function ingresarDigito(digito) {
  const { valorPantalla, esperandoPorSegundaOperacion } = calculadora;

  if (esperandoPorSegundaOperacion === true) {
    calculadora.valorPantalla = digito;
    calculadora.esperandoPorSegundaOperacion = false;
  } else {
    calculadora.valorPantalla = valorPantalla === '0' ? digito : valorPantalla + digito;
  }
}

function encargarOperador(siguienteOperador) {
  const { primeraOperacion, valorPantalla, operador } = calculadora
  const inputValue = parseFloat(valorPantalla);

  if (operador && calculadora.esperandoPorSegundaOperacion)  {
    calculadora.operador = siguienteOperador;
    return;
  }

  if (primeraOperacion == null) {
    calculadora.primeraOperacion = inputValue;
  } else if (operador) {
    const currentValue = primeraOperacion || 0;
    const result = performCalculation[operador](currentValue, inputValue);

    calculadora.valorPantalla = String(result);
    calculadora.primeraOperacion = result;
  }

  calculadora.esperandoPorSegundaOperacion = true;
  calculadora.operador = siguienteOperador;
}

const performCalculation = {
  '/': (primeraOperacion, segundaOperacion) => primeraOperacion / segundaOperacion,

  '*': (primeraOperacion, segundaOperacion) => primeraOperacion * segundaOperacion,

  '+': (primeraOperacion, segundaOperacion) => primeraOperacion + segundaOperacion,

  '-': (primeraOperacion, segundaOperacion) => primeraOperacion - segundaOperacion,

  '=': (primeraOperacion, segundaOperacion) => segundaOperacion
};

function resetCalculadora() {
  calculadora.valorPantalla = '0';
  calculadora.primeraOperacion = null;
  calculadora.esperandoPorSegundaOperacion = false;
  calculadora.operador = null;
}

function actualizarPantalla() {
  const display = document.querySelector('.calculadora-screen');
  display.value = calculadora.valorPantalla;
}

actualizarPantalla();

const keys = document.querySelector('.calculadora-keys');
keys.addEventListener('click', (event) => {
  const { target } = event;
  if (!target.matches('button')) {
    return;
  }

  if (target.classList.contains('operador')) {
    encargarOperador(target.value);
		actualizarPantalla();
    return;
  }

  if (target.classList.contains('decimal')) {
    inputDecimal(target.value);
		actualizarPantalla();
    return;
  }

  if (target.classList.contains('all-clear')) {
    resetCalculadora();
		actualizarPantalla();
    return;
  }

  ingresarDigito(target.value);
  actualizarPantalla();
});
</script>
  
  </body>

  <!-- MDB -->
  <script type="text/javascript" src="js/mdb.min.js"></script>
  <!-- Custom scripts -->
  <script type="text/javascript"></script>
</html>
